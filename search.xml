<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Ubuntu软件源更换为国内源]]></title>
      <url>https://www.mxvar.com/2017/08/26/ubuntusources/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Ubuntu默认的软件源是Ubuntu自己的服务器，那么，由于你懂得的原因，国内访问这个软件源速度及其缓慢。</p>
</blockquote>
<h2 id="备份原来的源文件"><a href="#备份原来的源文件" class="headerlink" title="备份原来的源文件"></a>备份原来的源文件</h2><ul>
<li><p>首先，进入源<code>sources.list</code>所在的目录:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /ect/apt/</div></pre></td></tr></table></figure>
</li>
<li><p>然后执行备份指令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo cp sources.list sources.list.bak</div></pre></td></tr></table></figure>
<p>期间需要输入超级用户root的密码。</p>
</li>
</ul>
<h2 id="修改源文件的内容"><a href="#修改源文件的内容" class="headerlink" title="修改源文件的内容"></a>修改源文件的内容</h2><ul>
<li><p>通过以下指令打开<code>sources.list</code>文件:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim sources.list</div></pre></td></tr></table></figure>
</li>
<li><p>然后将<code>sources.list</code>文件内容替换为下面的阿里源内容:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#deb包</span></div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse  </div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse  </div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse  </div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse  </div><div class="line"><span class="comment">##测试版源  </span></div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse  </div><div class="line"><span class="comment"># 源码  </span></div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse  </div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse  </div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse  </div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse  </div><div class="line"><span class="comment">##测试版源  </span></div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse  </div><div class="line"><span class="comment"># Canonical 合作伙伴和附加  </span></div><div class="line">deb http://archive.canonical.com/ubuntu/ xenial partner  </div><div class="line">deb http://extras.ubuntu.com/ubuntu/ xenial main</div></pre></td></tr></table></figure>
<p>或者下面的腾讯源：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">deb-src http://mirrors.tencentyun.com/old-archives/ubuntu lucid main restricted universe multiverse</div><div class="line">deb-src http://mirrors.tencentyun.com/old-archives/ubuntu lucid-updates main restricted universe multiverse</div><div class="line">deb-src http://mirrors.tencentyun.com/old-archives/ubuntu lucid-security main restricted universe multiverse</div><div class="line">deb-src http://mirrors.tencentyun.com/old-archives/ubuntu lucid-backports main restricted universe multiverse</div><div class="line">deb http://mirrors.tencentyun.com/old-archives/ubuntu lucid main restricted universe multiverse</div><div class="line">deb http://mirrors.tencentyun.com/old-archives/ubuntu lucid-updates main restricted universe multiverse</div><div class="line">deb http://mirrors.tencentyun.com/old-archives/ubuntu lucid-security main restricted universe multiverse</div><div class="line">deb http://mirrors.tencentyun.com/old-archives/ubuntu lucid-backports main restricted universe multiverse</div></pre></td></tr></table></figure>
<p>或者下面的网易源:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">deb http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse</div><div class="line">deb http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse</div><div class="line">deb http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse</div><div class="line">deb http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse</div><div class="line">deb http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse</div><div class="line">deb-src http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse</div><div class="line">deb-src http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse</div><div class="line">deb-src http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse</div><div class="line">deb-src http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse</div><div class="line">deb-src http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse</div></pre></td></tr></table></figure>
<p>最后输入<code>:qw</code>保存退出。</p>
</li>
</ul>
<h2 id="更新软件列表和已安装的软件"><a href="#更新软件列表和已安装的软件" class="headerlink" title="更新软件列表和已安装的软件"></a>更新软件列表和已安装的软件</h2><ul>
<li><p>使用下面的指令来更新获取阿里源提供的软件列表:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div></pre></td></tr></table></figure>
</li>
<li><p>使用下面的指令来更新软件:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get upgrade</div></pre></td></tr></table></figure></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[更改Windows CMD以及Powershell字体为Consolas]]></title>
      <url>https://www.mxvar.com/2017/08/25/cmdfont/</url>
      <content type="html"><![CDATA[<blockquote>
<p>CMD是Command的缩写.即命令提示符（CMD），是在OS / 2 ， Windows CE与Windows NT平台为基础的操作系统（包括Windows 2000和XP中， Vista中，和Server 2003 ）下的“MS-DOS 方式”。中文版Windows XP 中的命令提示符进一步提高了与DOS 下操作命令的兼容性，用户可以在命令提示符直接输入中文调用文件,微软在Windows 7及之后引入了Powershell——一款比CMD更加强大的命令工具。</p>
</blockquote>
<p>中文版Windows 10操作系统的CMD以及Powershell界面默认的字体是新宋体，对于写代码的人来说，看新宋体下的英文相当难受，还是看微软自带的<code>Consolas</code>看起来舒服。<br><a href="https://i.loli.net/2017/08/26/59a16f6ae1b6a.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f6ae1b6a.png" alt="1.png"></a><br><a href="https://i.loli.net/2017/08/26/59a16f6c97245.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f6c97245.png" alt="2.png"></a><br>在Windows 7之前的系统中，可以直接更改CMD的字符编码，但是在Windows 10中已经不能直接更改字符编码了。<br>那么，我们只能通过更改注册表的方式来修改<code>CMD</code> 和<code>Powershell</code>字符编码。</p>
<h3 id="注册表修改字符编码"><a href="#注册表修改字符编码" class="headerlink" title="注册表修改字符编码"></a>注册表修改字符编码</h3><ol>
<li>按<code>Windows</code>+<code>R</code>进入<code>Run</code>,输入<code>regedit</code>,回车进入注册表。<br><a href="https://i.loli.net/2017/08/26/59a16f6e84577.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f6e84577.png" alt="3.png"></a></li>
<li><p>在注册表地址栏输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">HKEY_CURRENT_USER\Console\%SystemRoot%_system32_cmd.exe</div></pre></td></tr></table></figure>
</li>
<li><p>回车后双击右边的<code>CodePage</code>这一注册表项，勾选<code>Base</code>中的<code>Decimal</code>一项(目的是将数值以十进制显示)，然后将<code>Value data</code>中的数值改为<code>437</code>，确认后再打开<code>CMD</code>，右键标题栏，选择<code>属性</code>，选择<code>字体</code>,将字体改为<code>Consolas</code>,保存后字体就变成了<code>Consolas</code>了。<br><a href="https://i.loli.net/2017/08/26/59a16f705fefc.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f705fefc.png" alt="4.png"></a><br>对于<code>Powershell</code>,在注册表地址栏输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Computer\HKEY_CURRENT_USER\Console\%SystemRoot%_System32_WindowsPowerShell_v1.0_powershell.exe</div></pre></td></tr></table></figure>
<p>同样将<code>CodePage</code>中的数值改为<code>437</code>,保存即可。<br><a href="https://i.loli.net/2017/08/26/59a16f728be26.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f728be26.png" alt=""></a>  </p>
</li>
</ol>
<p>最终的效果图<br><a href="https://i.loli.net/2017/08/26/59a16f7402111.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/26/59a16f7402111.png" alt="6.png"></a></p>
<p>P.S.MS-DOS为以下国家和语言提供字符集：  </p>
<table>
<thead>
<tr>
<th>代码</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>65001</td>
<td>UTF-8字符集</td>
</tr>
<tr>
<td>1258</td>
<td>越南语</td>
</tr>
<tr>
<td>1257</td>
<td>波罗的语</td>
</tr>
<tr>
<td>1256</td>
<td>阿拉伯语</td>
</tr>
<tr>
<td>1255</td>
<td>希伯来语</td>
</tr>
<tr>
<td>1254</td>
<td>土耳其语</td>
</tr>
<tr>
<td>1253</td>
<td>希腊语</td>
</tr>
<tr>
<td>1252</td>
<td>拉丁 1 字符 (ANSI)</td>
</tr>
<tr>
<td>1251</td>
<td>西里尔语</td>
</tr>
<tr>
<td>1250</td>
<td>中欧语言</td>
</tr>
<tr>
<td>950</td>
<td>繁体中文</td>
</tr>
<tr>
<td>949</td>
<td>朝鲜语</td>
</tr>
<tr>
<td>936</td>
<td>简体中文（默认）</td>
</tr>
<tr>
<td>932</td>
<td>日语</td>
</tr>
<tr>
<td>874</td>
<td>泰国语</td>
</tr>
<tr>
<td>866</td>
<td>俄文</td>
</tr>
<tr>
<td>850</td>
<td>多语种 (MS-DOS Latin1)</td>
</tr>
<tr>
<td>437</td>
<td>MS-DOS 美国英语</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[使用Fiddler抓包拦截用户请求、伪造表单数据]]></title>
      <url>https://www.mxvar.com/2017/08/12/fiddler/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Fiddler是位于客户端和服务器端的HTTP代理，也是目前最常用的http抓包工具之一 。 它能够记录客户端和服务器之间的所有 HTTP请求，可以针对特定的HTTP请求，分析请求数据、设置断点、调试web应用、修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是web调试的利器。  </p>
</blockquote>
<h1 id="使用右键编辑Request"><a href="#使用右键编辑Request" class="headerlink" title="使用右键编辑Request"></a>使用右键编辑Request</h1><h2 id="选择需要重新发送执行的Request请求"><a href="#选择需要重新发送执行的Request请求" class="headerlink" title="选择需要重新发送执行的Request请求"></a>选择需要重新发送执行的Request请求</h2><p>这里以<code>www.baidu.com</code> 搜索为例子，我们一开始的搜索内容是<code>测试</code>，然后我们需要编辑此次Request请求，修改表单其中的<code>wd</code>的键值，然后继续提交表单请求：<br><a href="https://i.loli.net/2017/08/12/598f093895350.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f093895350.png" alt="8.png"></a></p>
<h2 id="修改表单内容"><a href="#修改表单内容" class="headerlink" title="修改表单内容"></a>修改表单内容</h2><p>右键点击需要修改的Request，<code>Replay</code>-&gt;<code>Reissue and Edit</code>,右侧栏选择<code>Inspectors</code>，然后修改<code>QueryString</code>栏目下面的<code>wd</code>右边的内容，我们这里改为<code>游戏</code>这个关键词。<br><a href="https://i.loli.net/2017/08/12/598f05f173d97.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f05f173d97.png" alt=""></a><br><a href="https://i.loli.net/2017/08/12/598f06b94a7dd.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f06b94a7dd.png" alt="TIM截图20170812213147.png"></a></p>
<h2 id="提交表单内容"><a href="#提交表单内容" class="headerlink" title="提交表单内容"></a>提交表单内容</h2><p>点击下面的<code>Run to Completion</code>来提交修改后的请求，我们可以看到返回的信息已经成了<code>游戏</code>的搜索内容了。<br><a href="https://i.loli.net/2017/08/12/598f06735da69.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f06735da69.png" alt="3.png"></a></p>
<h1 id="使用bpu命令拦截"><a href="#使用bpu命令拦截" class="headerlink" title="使用bpu命令拦截"></a>使用bpu命令拦截</h1><p>更加好的方式是使用bpu命令拦截特定网址前缀的请求，当需要拦截的网址前缀到达Fiddler的代理服务器时，会自动拦截下来，此时，请求停止发送，Fiddle会在任务栏闪动提示用户进一步操作。<br>这里仍然以<code>www.baidu.com</code>搜索为例：</p>
<h2 id="使用命令定制拦截需求"><a href="#使用命令定制拦截需求" class="headerlink" title="使用命令定制拦截需求"></a>使用命令定制拦截需求</h2><p>在左侧栏的下面的黑色输入框输入一下命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bpu www.baidu.com</div></pre></td></tr></table></figure></p>
<p><a href="https://i.loli.net/2017/08/12/598f069687b7c.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f069687b7c.png" alt="5.png"></a><br>其含义是指拦截以<code>wwww.baidu.com</code>开头的所有请求，需要清除拦截规则的话，命令栏直接输入<code>bpu</code>回车即可。<br>网页端输入<code>测试</code>这个关键词，然后点击搜索，Fiddler此时会变红，是在提示需要用户进一步的操作。  </p>
<h2 id="修改表单内容-1"><a href="#修改表单内容-1" class="headerlink" title="修改表单内容"></a>修改表单内容</h2><p>然后在右侧栏选择<code>Inspectors</code>，然后修改<code>QueryString</code>栏目下面的<code>wd</code>右边的内容，我们这里改为<code>游戏</code>这个关键词。<br><a href="https://i.loli.net/2017/08/12/598f06b94a7dd.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f06b94a7dd.png" alt="TIM截图20170812213147.png"></a></p>
<h2 id="提交表单内容-1"><a href="#提交表单内容-1" class="headerlink" title="提交表单内容"></a>提交表单内容</h2><p>点击下面的<code>Run to Completion</code>来提交修改后的请求，我们可以看到返回的信息已经成了<code>游戏</code>的搜索内容了，而搜索框仍然是修改请求之前的<code>测试</code>关键词。<br><a href="https://i.loli.net/2017/08/12/598f06daa305f.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f06daa305f.png" alt="6.png"></a><br>P.S. 最后给一个修改了微博iPhone 客户端的UA的效果图，测试设备是iPhone 6s,拦截发微博时的Request请求，修改其中的UA为<code>iPhone 9,2</code>(这是iPhone 7 Plus的机型识别型号),然后提交请求即可。<br><a href="https://i.loli.net/2017/08/12/598f06eb2b0ac.png" target="_blank" rel="external"><img src="https://i.loli.net/2017/08/12/598f06eb2b0ac.png" alt="7.png"></a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Nginx启用HSTS使浏览器强制跳转HTTS访问]]></title>
      <url>https://www.mxvar.com/2017/08/06/addhsts/</url>
      <content type="html"><![CDATA[<blockquote>
<p>在网站全站HTTPS后，如果用户手动敲入网站的HTTP地址，或者从其它地方点击了网站的HTTP链接，通常依赖于服务器端的301/302重定向跳转才能使用HTTPS服务。而第一次的HTTP请求就有可能被劫持，导致请求无法到达服务器，从而构成HTTPS降级劫持。这个问题目前可以通过HSTS(HTTP Strict Transport Security，RFC6797)来解决。</p>
</blockquote>
<h2 id="HSTS简介"><a href="#HSTS简介" class="headerlink" title="HSTS简介"></a>HSTS简介</h2><p>HSTS(HTTP Strict Transport Security)是国际互联网工程组织IETF发布的一种互联网安全策略机制。采用HSTS策略的网站将保证浏览器始终连接到该网站的HTTPS加密版本，不需要用户手动在URL地址栏中输入加密地址，以减少会话劫持风险。  </p>
<h2 id="HSTS响应头格式"><a href="#HSTS响应头格式" class="headerlink" title="HSTS响应头格式"></a>HSTS响应头格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Strict-Transport-Security: max-age=expireTime [; includeSubDomains] [; preload]</div></pre></td></tr></table></figure>
<h2 id="在Nginx启用HSTS"><a href="#在Nginx启用HSTS" class="headerlink" title="在Nginx启用HSTS"></a>在Nginx启用HSTS</h2><p>打开<code>vim /etc/nginx/sites-available/default</code>,在<code>server</code>中的443端口添加<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">add_header Strict-Transport-Security <span class="string">"max-age=63072000; includeSubdomains; preload"</span>;</div></pre></td></tr></table></figure></p>
<p><img src="https://i.loli.net/2017/08/06/598714c7a35c0.png" alt="TIM截图20170806210758.png"></p>
<h2 id="重启Nginx"><a href="#重启Nginx" class="headerlink" title="重启Nginx"></a>重启Nginx</h2><p>最后重启Nginx即可。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service nginx restart</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Ubuntu添加系统调用]]></title>
      <url>https://www.mxvar.com/2017/06/22/linuxsyscall/</url>
      <content type="html"><![CDATA[<blockquote>
<p>系统调用（System Call）是操作系统为在用户态运行的进程与硬件设备（如CPU、磁盘、打印机等）进行交互提供的一组接口。当用户进程需要发生系统调用时，CPU 通过软中断切换到内核态开始执行内核系统调用函数.  </p>
</blockquote>
<p>我们需要完成： </p>
<ul>
<li>下载最新版本的Linux内核源代码，在Linux系统中解压缩，大致观察内核源代码的组成结构。然后编译这个版本的内核代码，并尝试用编译出的内核重新引导系统。</li>
<li>添加一个新的系统调用，完成任意一个功能，重新编译和运行内核，使新的系统调用可用。</li>
<li>编写一个用户态的程序，使用增加的系统调用，以证明它确实可以用。  </li>
</ul>
<p>开发环境：  </p>
<ul>
<li>Linux 发行版 Ubuntu 16.10</li>
<li>VMware Workstation Pro 12.6</li>
<li>Linux 内核版本 4.11.6</li>
<li>虚拟机分配内存：4GB</li>
<li>虚拟机分配空间：50GB SSD</li>
</ul>
<ol>
<li>在VMware Workstation上安装Ubuntu 16.10;<br><img src="https://ooo.0o0.ooo/2017/06/22/594bdd7181874.png" alt="1.png"></li>
<li><p>进入Ubuntu系统，更新软件源代码.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install update</div></pre></td></tr></table></figure>
</li>
<li><p>下载编译过程中的所需的软件依赖包.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install libncurses5-dev libssl-dev  </div><div class="line">sudo apt-get install build-essential openssl  </div><div class="line">sudo apt-get install zlibc minizip  </div><div class="line">sudo apt-get install libidn11-dev libidn11</div></pre></td></tr></table></figure>
<p>依赖包说明：  </p>
<ul>
<li>libncurses5-dev :主要是在make menuconfig时能够出现图形化的选择菜单所依赖的的库</li>
<li>libssl-dev : openssl的依赖包</li>
<li>build-essential：建立debian软件包的工具</li>
<li>openssl ：涉及到系统安全的编译过程中的相关程序的依赖库</li>
<li>zlibc ：允许运行中的文件能够实现解压缩数据文件的一个工具</li>
<li>minizip ：是一个轻量级的支持库，能够支持压缩、提取、查看和操作ZIP文件。该软件包包括minizip和miniunzip工具</li>
<li>libidn11-dev ： 涉及到系统帮助等文档以及软件库等信息的一个软件包  </li>
</ul>
</li>
<li><p>通过git下载Linux 内核 4.11.6.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git</div></pre></td></tr></table></figure>
</li>
<li><p>以root管理权限解压内核到 <code>/usr/src/</code>.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo <span class="built_in">cd</span> /usr/src</div><div class="line">sudo tar -xvf linux-4.11.6.tar.xz</div></pre></td></tr></table></figure>
</li>
<li><p>Ubuntu安装Vim编辑器.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install vim</div></pre></td></tr></table></figure>
</li>
<li><p>用Vim打开<code>/kernel/sys.c</code>文件，加入<code>linkage.h</code>的头文件,在文件末尾加入要加入的系统调用函数.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim linux-4.11.6/kernel/sys.c</div></pre></td></tr></table></figure>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594bdfb9b158e.png" alt="2.png"><br><img src="https://ooo.0o0.ooo/2017/06/22/594bdfbd40447.png" alt="3.png">  </p>
</li>
<li><p>加入系统调用函数声明。在<code>linux-4.11.6/arch/x86/include/asm/syscalls.h</code> 中加入<code>asmlinkage void sys_quicksort(int [],int,int);</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim linux-4.11.6/arch/x86/include/asm/syscalls.h</div></pre></td></tr></table></figure>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594be0913a9c5.png" alt="4.png">  </p>
</li>
<li><p>加入系统调用号。在<code>linux-4.11.6/arch/x86/entry/syscalls/syscall_64.tbl</code>.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim linux-4.11.6/arch/x86/entry/syscalls/syscall_64.tbl</div></pre></td></tr></table></figure>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594be091da76b.png" alt="5.png">  </p>
</li>
<li><p>编译内核和安装内核.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo make mrproper  </div><div class="line">sudo make clean  </div><div class="line">sudo make menuconfig</div></pre></td></tr></table></figure>
</li>
<li><p>根据自己处理器的最大线程数目来编译.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo make -j4</div></pre></td></tr></table></figure>
</li>
<li><p>编译后安装内核到系统中.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo make modules_install  </div><div class="line">sudo make install</div></pre></td></tr></table></figure>
</li>
<li><p>重启加载内核.<br><img src="https://ooo.0o0.ooo/2017/06/22/594be09325d90.png" alt="6.png">  </p>
</li>
<li><p>编写程序验证系统调用.  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> QUICK_SORT 334</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i,a[]=&#123;<span class="number">9</span>,<span class="number">20</span>,<span class="number">36</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">8</span>&#125;;</div><div class="line">    syscall(QUICK_SORT,a,<span class="number">0</span>,<span class="number">9</span>);</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">printf</span>(“%d\t”,a[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>编译C程序:  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> gcc -o <span class="built_in">test</span> test.c</div><div class="line">./<span class="built_in">test</span></div></pre></td></tr></table></figure>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594be094d8e0b.png" alt="7.png"></p>
</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Google Chrome被劫持事件]]></title>
      <url>https://www.mxvar.com/2017/05/19/indexpage/</url>
      <content type="html"><![CDATA[<blockquote>
<p>今天打开Chrome浏览器，发现Chrome浏览器的主页被重定向到了垃圾网站<code>hao123</code>去了，作为一名程序员，最可耻这种未经用户允许就篡改主页来赚取流量的行为！再说了，这种垃圾网站怎么能作为首页呢？  </p>
</blockquote>
<p>反复调查得知，Chrome浏览器不是直接被更改掉了主页，而是在快捷启动的<code>目标</code>一栏中加入了参数，导致每次通过快捷方式启动Chrome浏览器的时候，浏览器会首先访问加入参数的网站，如图所示：<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efgy1ffqy6ak3z3j20c30j2my6.jpg" alt=""><br>可以很清楚的看到启动参数后面被加入了<code>http://hao643.com</code>这个网站，去<code>Whois</code>上查询了这个域名的信息：<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efgy1ffqyadhqhij20od0cigml.jpg" alt=""><br>然后又顺手查了下这个<code>HICHINA ZHICHENG TECHNOLOGY LTD.</code>的信息，发现很早就有人就揭露这个公司喜欢篡改用户主页来赚取巨额流量的丑恶行径。<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efly1ffqyd34ionj20lf0ef404.jpg" alt=""><br>再一次鄙视(╬▔皿▔)凸这种恶心行为。<br>原以为解决方法是删除<code>目标</code>后面的启动参数就行了，然而，万万没想到的是：电脑一重启，那个Chrome的快捷方式又被篡改了，真是好气啊！<br>然后我又查看了系统的启动项、当前运行的服务以及系统的计划任务，均没有发现可疑的进程。<br>最后想想是不是每次开机的时候系统都会执行某个脚本来篡改快捷方式呢？因为这种方式极为隐蔽，脚本一被执行，就看不到任何的信息。  </p>
<h2 id="下载WMI-Event-Viewer"><a href="#下载WMI-Event-Viewer" class="headerlink" title="下载WMI Event Viewer"></a>下载WMI Event Viewer</h2><p>WMI tools：微软官方出的系统检测工具。WMI工具包括：WMI CIM Studio：查看和编辑类，属性，限定词和在CIM储存库的实例;选定的运行方式;生成并编译MOF文件。 WMI对象浏览器：视图对象，编辑属性值和限定词和运行方法。<br>这个软件网上很容易找到，这里就不提供了。<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efgy1ffqypcik4wj206a03ajre.jpg" alt=""></p>
<h2 id="删除恶意脚本"><a href="#删除恶意脚本" class="headerlink" title="删除恶意脚本"></a>删除恶意脚本</h2><ol>
<li>以管理员方式启动<code>WMI Event Viewer</code>(否则后面无法进行删除操作)，点击左上角的<code>Register for Events</code>;<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efgy1ffqysqrr52j20gh09yglo.jpg" alt=""></li>
<li>在<code>Connect to namespace:</code>窗口中点击<code>OK</code>,默认不用输入密码，继续点击<code>OK</code>;<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efly1ffqyy7yvcoj20hm09cwen.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/mw690/9907b0efly1ffqyyl34y7j20hm09cwer.jpg" alt=""></li>
<li>点击<code>EventFilter.Name=&#39;VBScriptLKLive_filter&#39;</code>这一栏<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efly1ffqz1fuh0lj20hm09ct8v.jpg" alt=""><br>查看这个<code>VB</code>脚本的信息，如图：<br><img src="https://ws1.sinaimg.cn/mw690/9907b0efly1ffqz2g9zb1j20p50hdjsh.jpg" alt=""><br>从图中可以很清晰的看出，的确是这个脚本篡改了浏览器的快捷方式，那么，我们只要回到上一个窗口，删除这个脚本即可解决问题。</li>
</ol>
<h2 id="重启验证"><a href="#重启验证" class="headerlink" title="重启验证"></a>重启验证</h2><p>高兴的是，重启后，Chrome的快捷方式没有再被篡改了。<br>P.S. 这个示例告诉我们一定要从正规的网站下载软件，千万不要运行来历不明的软件。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[解决fontawesome-webfont.woff2 404问题]]></title>
      <url>https://www.mxvar.com/2017/05/18/font404/</url>
      <content type="html"><![CDATA[<h2 id="问题详情"><a href="#问题详情" class="headerlink" title="问题详情"></a>问题详情</h2><p><img src="https://ws1.sinaimg.cn/large/9907b0efgy1ffpwjhd9aqj20he067mx5.jpg" alt=""><br>如图所示，每次加载服务器上的<code>fontawesome-webfont.woff2</code>字体时，直接报<code>404(Not Found)</code>的错误，然而进入服务器发现这个字体是存在的，后来发现原来是<code>IIS</code>服务器的不认<code>woff2</code>格式的文件。</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>找到出错的原因所在，解决这个问题就很容易了。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1ffpwnm1wkfj20x40jrjvq.jpg" alt=""><br>在<code>IIS</code>控制台添加<code>MIME</code>类型，使<code>IIS</code>识别我们的<code>woff2</code>格式的字体。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1ffpwp4pdshj20dn08p3ym.jpg" alt=""></p>
<h2 id="测试验证"><a href="#测试验证" class="headerlink" title="测试验证"></a>测试验证</h2><p>重新访问我们的网站，查看<code>Console</code>，看是否有错误输出。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1ffpwr43he9j20hg0650sm.jpg" alt=""><br>很好，问题已经解决:)</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Workflow插件 - 『豆瓣最新电影』]]></title>
      <url>https://www.mxvar.com/2017/04/21/workflow_doubanmovie/</url>
      <content type="html"><![CDATA[<blockquote>
<p>程序员有三大美德： 傲慢，懒惰以及缺乏耐性。  </p>
</blockquote>
<p>当然这里的懒惰是指花费最少的力气，尽可能地节省时间来干更多的事情，而本文介绍的<code>Workflow</code>正是这样的一款可以帮助我们达到目的的<code>App</code>.</p><p><br>北京时间2017年3月23日星期四，苹果对<code>Workflow</code> 完成了收购。这款应用初期是由三个人的团队来开发，2015年<code>Workflow</code> 获得了<code>Apple Design Award</code>大奖:<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1feuli2jnybj20ki0dowib.jpg" alt=""></p><p><br>这款应用后来是由四人团队开发，被<code>Apple</code>收购后并入<code>Apple</code>公司。</p><p><br><code>Workflow</code> 不但有人性化的图形界面和易于理解的拖拽式交互，还内置了许多动作，可以省下使用者用来思考或操作的时间。比如你可以用 <code>Apple</code> 的 <code>API</code> 获取 <code>iTunes Store</code> 和 <code>App Store</code> 里商品的信息，但这个动作做出来会偏复杂。于是 <code>Workflow</code> 就直接提供了一组动作，可以非常直观地实现这个功能。 </p><p><br>下面来讲讲一个下午完成的『豆瓣最新电影』插件:</p><p></p>
<h2 id="准备豆瓣最新电影的API"><a href="#准备豆瓣最新电影的API" class="headerlink" title="准备豆瓣最新电影的API"></a>准备豆瓣最新电影的API</h2><p>这个API可以从这里找到<a href="https://developers.douban.com/wiki/?title=oauth2" target="_blank" rel="external">豆瓣API</a>，可以看到这个API返回的是一段JSON数据：</p><p><br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"count"</span>: <span class="number">20</span>,</div><div class="line">    <span class="string">"start"</span>: <span class="number">0</span>,</div><div class="line">    <span class="string">"total"</span>: <span class="number">25</span>,</div><div class="line">    <span class="string">"subjects"</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="string">"rating"</span>: &#123;</div><div class="line">                <span class="string">"max"</span>: <span class="number">10</span>,</div><div class="line">                <span class="string">"average"</span>: <span class="number">7.3</span>,</div><div class="line">                <span class="string">"stars"</span>: <span class="string">"40"</span>,</div><div class="line">                <span class="string">"min"</span>: <span class="number">0</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"genres"</span>: [</div><div class="line">                <span class="string">"动作"</span>,</div><div class="line">                <span class="string">"犯罪"</span></div><div class="line">            ],</div><div class="line">            <span class="string">"title"</span>: <span class="string">"速度与激情8"</span>,</div><div class="line">            <span class="string">"casts"</span>: [</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1041020/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/53186.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/53186.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/53186.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"范·迪塞尔"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1041020"</span></div><div class="line">                &#125;,</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1044707/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/196.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/196.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/196.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"道恩·强森"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1044707"</span></div><div class="line">                &#125;,</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1018991/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/44470.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/44470.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/44470.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"查理兹·塞隆"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1018991"</span></div><div class="line">                &#125;</div><div class="line">            ],</div><div class="line">            <span class="string">"collect_count"</span>: <span class="number">87640</span>,</div><div class="line">            <span class="string">"original_title"</span>: <span class="string">"The Fate of the Furious"</span>,</div><div class="line">            <span class="string">"subtype"</span>: <span class="string">"movie"</span>,</div><div class="line">            <span class="string">"directors"</span>: [</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1009396/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/4451.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/4451.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/4451.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"F·加里·格雷"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1009396"</span></div><div class="line">                &#125;</div><div class="line">            ],</div><div class="line">            <span class="string">"year"</span>: <span class="string">"2017"</span>,</div><div class="line">            <span class="string">"images"</span>: &#123;</div><div class="line">                <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2444256500.webp"</span>,</div><div class="line">                <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/view/movie_poster_cover/lpst/public/p2444256500.webp"</span>,</div><div class="line">                <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/view/movie_poster_cover/spst/public/p2444256500.webp"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/subject/26260853/"</span>,</div><div class="line">            <span class="string">"id"</span>: <span class="string">"26260853"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">"rating"</span>: &#123;</div><div class="line">                <span class="string">"max"</span>: <span class="number">10</span>,</div><div class="line">                <span class="string">"average"</span>: <span class="number">6.5</span>,</div><div class="line">                <span class="string">"stars"</span>: <span class="string">"35"</span>,</div><div class="line">                <span class="string">"min"</span>: <span class="number">0</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"genres"</span>: [</div><div class="line">                <span class="string">"喜剧"</span>,</div><div class="line">                <span class="string">"动画"</span>,</div><div class="line">                <span class="string">"奇幻"</span></div><div class="line">            ],</div><div class="line">            <span class="string">"title"</span>: <span class="string">"蓝精灵：寻找神秘村"</span>,</div><div class="line">            <span class="string">"casts"</span>: [</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1040983/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/414.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/414.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/414.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"黛米·洛瓦托"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1040983"</span></div><div class="line">                &#125;,</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1004593/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/small/9747.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/large/9747.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/medium/9747.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"雷恩·威尔森"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1004593"</span></div><div class="line">                &#125;,</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1013768/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/small/57068.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/large/57068.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img1.doubanio.com/img/celebrity/medium/57068.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"乔·曼根尼罗"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1013768"</span></div><div class="line">                &#125;</div><div class="line">            ],</div><div class="line">            <span class="string">"collect_count"</span>: <span class="number">803</span>,</div><div class="line">            <span class="string">"original_title"</span>: <span class="string">"Smurfs: The Lost Village"</span>,</div><div class="line">            <span class="string">"subtype"</span>: <span class="string">"movie"</span>,</div><div class="line">            <span class="string">"directors"</span>: [</div><div class="line">                &#123;</div><div class="line">                    <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/celebrity/1014327/"</span>,</div><div class="line">                    <span class="string">"avatars"</span>: &#123;</div><div class="line">                        <span class="string">"small"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/small/1359185145.13.jpg"</span>,</div><div class="line">                        <span class="string">"large"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/large/1359185145.13.jpg"</span>,</div><div class="line">                        <span class="string">"medium"</span>: <span class="string">"https://img3.doubanio.com/img/celebrity/medium/1359185145.13.jpg"</span></div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">"name"</span>: <span class="string">"凯利·阿斯博瑞"</span>,</div><div class="line">                    <span class="string">"id"</span>: <span class="string">"1014327"</span></div><div class="line">                &#125;</div><div class="line">            ],</div><div class="line">            <span class="string">"year"</span>: <span class="string">"2017"</span>,</div><div class="line">            <span class="string">"images"</span>: &#123;</div><div class="line">                <span class="string">"small"</span>: <span class="string">"https://img1.doubanio.com/view/movie_poster_cover/ipst/public/p2443742358.webp"</span>,</div><div class="line">                <span class="string">"large"</span>: <span class="string">"https://img1.doubanio.com/view/movie_poster_cover/lpst/public/p2443742358.webp"</span>,</div><div class="line">                <span class="string">"medium"</span>: <span class="string">"https://img1.doubanio.com/view/movie_poster_cover/spst/public/p2443742358.webp"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"alt"</span>: <span class="string">"https://movie.douban.com/subject/19899718/"</span>,</div><div class="line">            <span class="string">"id"</span>: <span class="string">"19899718"</span></div><div class="line">        &#125;,</div><div class="line"></div><div class="line">    ],</div><div class="line">    <span class="string">"title"</span>: <span class="string">"正在上映的电影-北京"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>因为服务器限制，这个JSON共包含了20个<code>subject</code>数据,由于篇幅过长，这里截取了2个<code>subject</code>,每个<code>subject</code>是一部电影的信息，包括<code>title</code>,<code>yaer</code>等其他信息。</p><p></p>
<h2 id="解析JSON数据"><a href="#解析JSON数据" class="headerlink" title="解析JSON数据"></a>解析JSON数据</h2><p>Workflow中的<code>Get Variable</code>可以很容易将JSON作为<code>Dictionary</code>以<code>&lt;key,value&gt;</code>的形式提取出来,这里首先是导出20个<code>subject</code>的内容，此时是输出20个电影的信息。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewy65lpccj20ku112mzl.jpg" alt=""></p>
<h2 id="解析每部电影的信息"><a href="#解析每部电影的信息" class="headerlink" title="解析每部电影的信息"></a>解析每部电影的信息</h2><p>从上一步得到的是一个<code>List</code>数组，现在需要遍历这个<code>List</code>数组来提取出每部电影的详细信息，所以这里需要用到<code>Repeat with Each</code>这个<code>Action</code>用来循环，这里主要提取<code>title</code>,<code>year</code>,<code>average</code>，<code>images</code>这四个<code>key</code>的<code>value</code>值，对应这部电影的标题，上映年代，评分以及电影封面。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewy8dirnhj20ku1120up.jpg" alt="title"><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewy98y2huj20ku112419.jpg" alt="year,average"><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewya5sp5qj20ku112gof.jpg" alt="images"></p>
<h2 id="输出信息"><a href="#输出信息" class="headerlink" title="输出信息"></a>输出信息</h2><p>这里是用的Workfow的<code>Notification</code>这个<code>Action</code>，也就是iOS的通知信息，当然，也可以选择其他的方式，比如HTML。</p><p><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewy7gxv9vj20ku1120v3.jpg" alt=""></p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>Workflow是一款很有创造力和拓展性的<code>App</code>,用他我们可以实现很多在iOS中本来不能实现或者很难实现的<code>Action</code>.期待你的创意:)</p><p><br>最后展示下使用过程：<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewybdd3jzj20ku112ak4.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewyc1ab4bj20ku1127n6.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fewycd3xlbj20ku112kc3.jpg" alt=""><br>P.S. 『豆瓣最新电影』已经分享在了Workflow中了，<a href="https://workflow.is/workflows/68ea17e6e12148b8bacb45831baeda60" target="_blank" rel="external">点此</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[IIS7以上网站重定向到HTTPS]]></title>
      <url>https://www.mxvar.com/2017/04/14/httpsRedirct/</url>
      <content type="html"><![CDATA[<p>前面博客文章提到了使用JavaScript来强制使访问HTTP的页面来跳转到对应的HTTPS页面，嗯，毕竟Google Chrome 浏览器已经把未启用SSL的网站直接标记为不安全了，直接使用JavaScript来跳转的话，会使SEO出现很大的问题，导致百度蜘蛛无法抓取到自己的网站，搜索引擎也就无法收录了，使用下面的URL Rewrite方案即可解决这一问题。</p>
<h2 id="安装URL-Rewrite模块"><a href="#安装URL-Rewrite模块" class="headerlink" title="安装URL Rewrite模块"></a>安装URL Rewrite模块</h2><p>IIS7及以上安装URL Rewrite模块，下载<a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="external">URI Rewrite模块扩展</a>，点击安装，重启IIS。</p>
<h2 id="在URL-Rewrite配置重定向规则"><a href="#在URL-Rewrite配置重定向规则" class="headerlink" title="在URL Rewrite配置重定向规则"></a>在URL Rewrite配置重定向规则</h2><ol>
<li>打开<code>URL Rewrite</code>模块;<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkkdl3fij204003ba9y.jpg" alt=""></li>
<li>点击右侧栏的<code>添加规则</code>;<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkl5o9puj20lf0evwf6.jpg" alt=""></li>
<li>选择<code>空白规则</code>;<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femklw0qf5j20jc0e3wev.jpg" alt=""></li>
<li><code>Name</code>可以随便填写，<code>Requested URL</code>选择为<code>Matches the Pattern</code>,<code>Using</code>选择为<code>Regular Expressions</code>,<code>Patter</code>填写为<code>(.*)</code>;<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkot3jljj20jn093dft.jpg" alt=""></li>
<li>在条件中添加如下两条记录：<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkm2e2lvj20do0afweh.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkmb01ebj20dy0ap0sq.jpg" alt=""></li>
<li>在动作一栏中添加如下:<code>Redirect URL</code>填写为<code>https://{HTTP_HOST}:443/{R:1}</code> 注意这里是花括号，不是小括号，<code>Redirect type</code>选择为 <code>Permanent(301)</code>，也就是永久性重定向,最后选择应用即可；<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1femkmhex8wj20jk0a1mx6.jpg" alt=""></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[使用VS Code写PHP并进行调试]]></title>
      <url>https://www.mxvar.com/2017/03/23/vscode/</url>
      <content type="html"><![CDATA[<blockquote>
<p>VS Code（Visual Studio Code）是由微软研发的一款免费、开源的跨平台文本（代码）编辑器。</p>
</blockquote>
<ol>
<li><p>先从官网下载安装好VS Code.官方下载地址是<a href="https://code.visualstudio.com/" target="_blank" rel="external">https://code.visualstudio.com/</a><br><img src="https://ws4.sinaimg.cn/large/9907b0efgy1fdot709hg9j211y0gztd6.jpg" alt=""></p>
</li>
<li><p>安装PHP套件，这是用的是XAMPP套件(集成Apache,MySQL,FileZilla,Mercury,Tomcat等开发环境)。下载链接 <a href="https://www.apachefriends.org/zh_cn/index.html" target="_blank" rel="external">https://www.apachefriends.org/zh_cn/index.html</a><br><img src="https://ws2.sinaimg.cn/large/9907b0efgy1fdou4gp310j20r50hb406.jpg" alt=""></p>
</li>
<li><p>打开VS Code,安装 php-debug扩展，Ctrl +P,输入 ext install php-debug 回车，点击安装扩展。<br><img src="https://ws1.sinaimg.cn/large/9907b0efgy1fdou6w7mqzj20es0dpq4s.jpg" alt=""></p>
</li>
<li><p>配置用户的设置：<br><img src="https://ws3.sinaimg.cn/large/9907b0efgy1fdou8lfbmuj20gj0d20u0.jpg" alt=""></p>
</li>
<li>配置PHP路径：<br><img src="https://ws2.sinaimg.cn/large/9907b0efgy1fdou9wsv1lj20fp09xgmh.jpg" alt="">​将 php.validate.executablePath”: “G:/xampp/php/php.exe” 当然，后面的路径要根据XAMPP的安装路径来更改，还有就是要在上条语句后面加个英文状态下的逗号。</li>
<li>将PHP文件置于Apache的启动目录下：<br><img src="https://ws3.sinaimg.cn/large/9907b0efgy1fdoudaxaicj20lv05bq35.jpg" alt=""></li>
<li>启动Apache服务器：<br><img src="https://ws2.sinaimg.cn/large/9907b0efgy1fdouele5mij20iy0c9wfh.jpg" alt=""></li>
<li>打开PHP文件，在指定行按F9设置断点然后启动调试.</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Windows 10 开启上帝模式]]></title>
      <url>https://www.mxvar.com/2017/02/14/godmode/</url>
      <content type="html"><![CDATA[<blockquote>
<p>从Windows Vista 时代开始，微软就在系统中加入了上帝模式，来方便开发者或支持人员快速更改系统的设置，无需在菜单只中一个一个查找选项。</p>
</blockquote>
<p>接下来就是上帝模式在 Windows 10 中的开启方法:</p>
<ol>
<li><p>在桌面新建一个文件夹。</p>
<p> <img src="https://ws2.sinaimg.cn/large/9907b0efjw1fcq9vikt3ij204902wwed.jpg" alt=""></p>
</li>
<li>将刚才的文件夹重命名，重命名为 <code>GodMode.{ED7BA470-8E54-465E-825C-99712043E01C}</code> ，然后保存即可。</li>
<li>这时候就会惊奇地发现一个命名为<code>GodMode</code> 的文件出现，其图标和控制面板一样。<br><img src="https://ws4.sinaimg.cn/large/9907b0efjw1fcq9vugpfhj204e02st8l.jpg" alt=""></li>
<li>双击打开，发现其布局和控制面板差不多，只是内容是更加丰富。<br><img src="https://ws2.sinaimg.cn/large/9907b0efjw1fcq9vzelt7j20z20jnn3r.jpg" alt=""></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[解决在Outlook中添加QQ邮箱提醒账户设置过期的问题]]></title>
      <url>https://www.mxvar.com/2016/11/24/qq_mail/</url>
      <content type="html"><![CDATA[<blockquote>
<p>很多人在outlook邮箱中添加QQ邮箱或者163邮箱后，系统会不时提醒邮箱账户设置已过期，重新添加后仍然出现此提示，很是烦人。</p>
</blockquote>
<h2 id="以下以QQ邮箱作为示例："><a href="#以下以QQ邮箱作为示例：" class="headerlink" title="以下以QQ邮箱作为示例："></a>以下以QQ邮箱作为示例：</h2><ol>
<li>首先登录QQ邮箱的网页版，进入设置-&gt;账户 找到如下图所示的选项：<br><img src="https://ws4.sinaimg.cn/large/9907b0efjw1fa3doofcjcj20m306uaby.jpg" alt="此处输入图片的描述"></li>
<li>把POP3/SMTP服务和IMAP/SMTP服务开启，点击生成授权码。<br><img src="https://ws3.sinaimg.cn/large/9907b0efjw1fa3dqmc11nj20ce08iwff.jpg" alt="此处输入图片的描述"></li>
<li>按照图中的操作说明，用绑定的手机来发送图中要求的一串字符到指定的号码(如果不知道手机号码或者号码遗失，就只能申诉了)，发送后，点击图中的”我已发送”按钮，腾讯服务器确认身份后会生成如图所示的授权码：<br><img src="https://ws3.sinaimg.cn/large/9907b0efjw1fa3dpipm2fj20e508sdgp.jpg" alt="此处输入图片的描述"></li>
<li>复制授权码，在Outlook邮箱添加账户的时候，输入邮箱地址，密码栏粘贴刚才生成的授权码，点击登录即可。<br><img src="https://ws2.sinaimg.cn/large/9907b0efjw1fa3drdf4s1j20d40dsgme.jpg" alt="此处输入图片的描述"></li>
<li>如果验证通过，会提示设置成功，这样以后就不会再出现邮箱账户过期的提示了。<br><img src="https://ws4.sinaimg.cn/large/9907b0efjw1fa3dru7hbwj20d40ds0t1.jpg" alt="此处输入图片的描述"><br>P.S.163邮箱也是同样的操作。</li>
</ol>
<h2 id="什么是授权码？"><a href="#什么是授权码？" class="headerlink" title="什么是授权码？"></a>什么是授权码？</h2><p>QQ邮箱官方给的解释是：</p>
<blockquote>
<p>授权码是QQ邮箱推出的，用于登录第三方客户端的专用密码。<br>适用于登录以下服务：POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务。<br>温馨提醒：为了你的帐户安全，更改QQ密码以及独立密码会触发授权码过期，需要重新获取新的授权码登录。</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[IIS 强制启用HTTPS跳转]]></title>
      <url>https://www.mxvar.com/2016/11/20/https_config/</url>
      <content type="html"><![CDATA[<blockquote>
<p>HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由网景公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密通讯方法。</p>
</blockquote>
<p>自从百度启用https搜索并且优先收录https网站后，越来也多的站点开始部署https，那么在部署https的过程了会遇到一个问题，那就是http自动跳转https的问题，因为过去很长一段时间，大部分网站都是http访问，突然换成https访问，很多人还反应不过来，所以我们网站需要设置http自动跳转到https，那么https配置过程中不同的服务器版本配置http自动跳转https方法上面存在差异。</p>
<p>修改以下文件：<br>IIS6.0 路径：</p>
<pre><code>C:\WINDOWS\Help\iisHelp\common\403-4.htm
</code></pre><p>IIS7.0以上路径：</p>
<pre><code>C:\inetpub\custerr\zh-CN\403.htm
</code></pre><p>将上述的文件更改为：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">HEAD</span>&gt;</span><span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>该页必须通过安全通道查看<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">META</span> <span class="attr">HTTP-EQUIV</span>=<span class="string">”Content-Type”</span> <span class="attr">Content</span>=<span class="string">”text/html;</span> <span class="attr">charset</span>=<span class="string">GB2312″</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">HEAD</span>&gt;</span><span class="tag">&lt;<span class="name">BODY</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">”text/javascript”</span>&gt;</span><span class="xml"></span></div><div class="line">    var url = window.location.href;</div><div class="line">    if (url.indexOf(“https”) <span class="tag">&lt; <span class="attr">0</span>) &#123;</span></div><div class="line">        <span class="attr">url</span> = <span class="string">url.replace(“http:”,</span> “<span class="attr">https:</span>”);</div><div class="line">        <span class="attr">window.location.replace</span>(<span class="attr">url</span>);</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">BODY</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>同时在IIS6中，站点属性–&gt;目录安全性–&gt;编辑中把”要求安全通道（SSL）”勾选上.<br>在IIS7、8中，SSL设置–&gt;把”要求SSL”勾选.<br>现在网站能够实现访问http页面强制跳转https页面了:)</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[提取Windows 10的锁屏聚焦壁纸]]></title>
      <url>https://www.mxvar.com/2016/11/12/spotLight/</url>
      <content type="html"><![CDATA[<blockquote>
<p>聚焦(Spotlight)是Windows 10相对于以前的Windows版本新增的一款提供锁屏壁纸的功能。</p>
</blockquote>
<p>非常漂亮的图片只能显示在锁屏上，是不是很可惜，想要将此作为壁纸或者其他用途，该怎么办呢？下面开始提取聚焦壁纸。</p>
<p>1.按<code>win</code>+<code>R</code>调出运行窗口或者在资源管理器的地址栏输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%localappdata%\Packages\Microsoft.Windows.ContentDeliveryManager_cw5n1h2txyewy\LocalState\Assets</div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/9907b0efjw1f9xx0mdf00j20bh05xt9l.jpg" alt=""><br>就会进入聚焦壁纸的文件夹<code>Assets</code>,能看见很多没有格式后缀名的文件。<br><img src="https://ws2.sinaimg.cn/large/9907b0efjw1f9xx15ln3hj20x70iitid.jpg" alt=""><br>2.在<code>Assets</code>文件夹下按<code>shift</code>+鼠标右键，选择从<code>此处打开命令窗口</code>，输入<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ren *.* *.jpg</div></pre></td></tr></table></figure></p>
<p>回车，将所有文件重命名为<code>.jpg</code>文件，这时候就能看到原本只能在锁屏上显示的图片了，是不是很漂亮？ </p>
<p>下面展示我的电脑上面的聚焦壁纸：<br><img src="https://ws4.sinaimg.cn/large/9907b0efjw1f9xx1jfzbzj21hc0u0wre.jpg" alt=""></p>
<p><img src="https://ws3.sinaimg.cn/large/9907b0efjw1f9xx3xxntrj21hc0u049n.jpg" alt=""></p>
<p><img src="https://ws1.sinaimg.cn/large/9907b0efjw1f9xx4uy9s0j21hc0u0awo.jpg" alt=""></p>
<p><img src="https://ws4.sinaimg.cn/large/9907b0efjw1f9xx5h7ahdj21hc0u04l1.jpg" alt=""></p>
<p><img src="https://ws2.sinaimg.cn/large/9907b0efjw1f9xx2xp5wsj21hc0u015q.jpg" alt=""></p>
<p>P.S. <code>Assets</code>文件夹里面不仅包括PC上的聚焦壁纸，还包括展示在锁屏上的应用图标，如：网易云音乐，Xbox应用；同时还包含Windows 10 Mobile手机上面的聚焦壁纸，选择按照Size 大小排序即可分辨。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[处理UWP程序的Back后退键]]></title>
      <url>https://www.mxvar.com/2016/11/11/UWP-back-btn/</url>
      <content type="html"><![CDATA[<h1 id="什么是UWP"><a href="#什么是UWP" class="headerlink" title="什么是UWP"></a>什么是UWP</h1><blockquote>
<p>UWP即Windows 10 中的Universal Windows Platform简称。即Windows通用应用平台，在Windows 10 Mobile(Lumia 系列等)/Surface(Windows平板电脑）/PC/Xbox/HoloLens等平台上运行，UWP不同于传统PC上的exe应用,并且和只适用于手机端的app有本质区别。它并不是为某一个终端而设计，而是可以在所有Windows10设备上运行。一款UWP应用针对各平台的代码大部分都是通用的（一个项目），只有很小一部分是平台特定的。在发布到应用商店时需要针对不同平台（处理器）分别编译。</p>
</blockquote>
<p>介绍完什么是UWP，下面谈谈在UWP应用程序开发的过程中必须要处理的问题。</p>
<p>UWP应用程序的后退按钮是需要开发者自己处理的。因为在新建Project 的时候，项目模板并不包含后退键的处理代码。</p>
<p>下面开始后退按钮的处理方法：</p>
<p>首先，新建一个空白项目：<br><img src="https://ws2.sinaimg.cn/large/9907b0efjw1f9xwofb2bsj20qj0g6aem.jpg" alt="新建空白模板"></p>
<p>空白模板建立成功后，我们需要对此项目添加程序集的引用。<br><img src="https://ws3.sinaimg.cn/large/9907b0efjw1f9xwlkltvfj20gw0egac3.jpg" alt="Project右键 Add Reference"><br><img src="https://ws3.sinaimg.cn/large/9907b0efjw1f9xwmhvgfnj20m80fawl2.jpg" alt="添加对Mobile设备的程序集引用"><br>  之后打开Projcet的<code>App.xaml.cs</code>文件。<br>  在<code>OnLaunched</code>方法中 添加如下判断代码：<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="string">"Windows.Mobile"</span> == Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily)</div><div class="line">                Windows.Phone.UI.Input.HardwareButtons.BackPressed += HardwareButtons_BackPressed;</div></pre></td></tr></table></figure></p>
<p>用来判断程序运行的设备是否是Mobile。</p>
<p>然后同样在<code>App.xaml.cs</code>文件中添加以下方法：<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">HardwareButtons_BackPressed</span>(<span class="params"><span class="keyword">object</span> sender, Windows.Phone.UI.Input.BackPressedEventArgs e</span>)</span></div><div class="line">&#123;</div><div class="line">       <span class="keyword">var</span> rootFrame = Window.Current.Content <span class="keyword">as</span> Frame;</div><div class="line">       <span class="keyword">if</span> (rootFrame.CanGoBack)</div><div class="line">       &#123;</div><div class="line">             rootFrame.GoBack();</div><div class="line">             e.Handled = <span class="literal">true</span>;</div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此方法是注册按下后退按钮的事件，用来返回上一个页面。</p>
<p>以上就可以正确处理UWP程序的后退按钮。</p>
<h2 id="P-S-如何在后退时保持前一个页面的状态-防止被重新载入？"><a href="#P-S-如何在后退时保持前一个页面的状态-防止被重新载入？" class="headerlink" title="P.S.如何在后退时保持前一个页面的状态,防止被重新载入？"></a>P.S.如何在后退时保持前一个页面的状态,防止被重新载入？</h2><p>需要在前一个页面的构造函数里加NavigationCacheMode即可，来打开页面导航的缓存。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">MainPage</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    InitializeComponent();</div><div class="line">    NavigationCacheMode = NavigationCacheMode.Enabled;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>https://www.mxvar.com/2016/11/08/hello_world/</url>
      <content type="html"><![CDATA[<p>Welcome to my Blog.这是我的第一篇博文，是一个程序员按例向这个世界打招呼的形式。在这里，我会分享很多有关Computer，Mobile以及其他有趣的事情。敬请期待!:)</p>
<h2 id="来自程序员的问候！"><a href="#来自程序员的问候！" class="headerlink" title="来自程序员的问候！"></a>来自程序员的问候！</h2><h3 id="C-语言版本"><a href="#C-语言版本" class="headerlink" title="C 语言版本"></a>C 语言版本</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Hello World!"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>More info: <a href="http://weibo.com/tangxianmeng" target="_blank" rel="external">我的微博</a></p>
]]></content>
    </entry>
    
  
  
</search>
